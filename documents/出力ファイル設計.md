# 出力ファイルの取り扱い
・出力ファイルは1つのみ保持。データ出力時に同名で保存し続け、都度上書きを行う。
・PLCごとにデータは分けて保存。3つのPLCからデータを取得した場合は、最終的に3つのファイルができる。
・保存ファイル名は下記項目を参照。

# 保存ファイル名
xxx-xxx-x-xx_zzzz_aaaa.json
 - xxx-xxx-x-xx：IPアドレスのドットをハイフンに変更した文字列(xと-の位置は例)
 - zzzz：ポート番号
 - aaaa：エクセル設定ファイルのターゲット名に記載の文字

# json構造
{
  "source": {
    "plcModel": ,
    "ipAddress": ,
    "port": 
  },
  "timestamp": {
    "local": 
  },
  "items": [
    {
      "name": ,
      "device": {
        "code": ,
        "number": 
      },
      "digits": ,
      "unit": ,
      "value": 
    },
    {
      "name": ,
      "device": {
        "code": ,
        "number": 
      },
      "digits": ,
      "unit": ,
      "value": 
    }
  ]
}

# 各項目の定義

・source.plcModel: string（必須）
・source.ipAddress: string（必須、IPv4/IPv6書式）
・source.port: integer（必須、1–65535）
・timestamp.local: string（必須、ISO 8601ローカル時刻、タイムゾーンオフセット付き）
・items: array（必須、要素はオブジェクト）
  - items[].name: string（必須）
  - items[].device.code: string（必須）
  - items[].device.number: string（必須）
  - items[].digits: integer（必須、1以上）
  - items[].unit: string（必須、"bit", "word", "dword"）
  - items[].value: string または number
    - unit が "bit" のとき: 0/1（単一値）
    - unit が "word"/"dword" のとき: string, int16/int32, uint16/uint32, float16/float32（単一値）

# データ出力仕様
・Read Randomコマンドの仕様上、bitデバイスから取得した値は16デバイス分となるので(1ワード=16ビットで一括取得)、json出力時は各デバイスから取得した値を分割して出力する
例：
送信情報：ビットデバイスのM000を開始点にしてデータを取得

出力：
生データ受信→パース後データ(ここまではstep6の受信データ処理で実施)→(ここからstep7のデータ出力部で対応)ビットデバイスデータをさらに分割してitems内に配置
　⇒Read Randomコマンドでは、ワードアクセス点数＋デバイスコード＋デバイス番号を指定する必要あり。これを考慮して、ビットデバイスデバイスではアクセス点数を1で指定、得られたデータは指定したデバイス番号を基点とした連続16点分で分割する。

出力例：
  "items": [
    {
      "name": "停止纏めON=異常無",
      "device": {
        "code": "M",
        "number": "000"
      },
      "digits": 1,
      "unit": "bit",
      "value": 1
    },
    {
      "name": "自動運転    開始",
      "device": {
        "code": "M",
        "number": "001"
      },
      "digits": 1,
      "unit": "bit",
      "value": 1
    },
    ・・・
  ]
}